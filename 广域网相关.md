# 网络系统工程——广域网相关
## 一、接入网技术比较
## 1. X.25
> X.25分组交换数据网（X.25 packet-switched data network）指采用国际电联制定的X.25的分组交换数据网。
### 1.1 通信协议
&emsp;&emsp;X.25协议是国际电报电话咨询委员会CCITT提出的用于分组交换的协议。它描述了在数据终端设备DTE和数据电路终接设备DCE之间的链路建立与控制，以及在DTE与DCE之间的任何格式的数纪的无差错传送。说起来，X.25就是用分组交换方式工作，并通过专用线路和公用数据网连接终端使用的DTE与DCE之间的接口规程，它与网络内部无关，分组交换网结构如图1所示。

![image-20220412175226776](C:\Users\86184\AppData\Roaming\Typora\typora-user-images\image-20220412175226776.png)

>图1 分组交换网结构

&emsp;&emsp;X.25协议是三层协议:物理层、数据链路层、分组层。它与ISO/OSI网络7层协议模型对应关系如图2

![image-20220412175608372](C:\Users\86184\AppData\Roaming\Typora\typora-user-images\image-20220412175608372.png)

>图2 X.25的三层协议

#### 1.1.1 物理层

&emsp;&emsp;物理层是X.25DTE与以二E之间的电气和机械连接，是实现数据链路实体之间的建立、维护和拆除的物理连接。这一层中使用的设备包括终端设备、Modem、协议转换器及所有连接电缆和信号以及通过电缆的信号电平、信号序列等.X.25物理层接口规程有两类。X类接口:X.21和X.Zlbis;V类接口:V.24、V.28和V·35。在X.25通讯适配卡中，较普遍采用X.24及X.21ibs接口标准。

#### 1.1.2 数据链路层

&emsp;&emsp;数据链路层说明数据在X.25DTE与以二E之间互传的方法，其目的是向分组层提供可靠的无差错和无重份的分组传送服务。这一层包括建立和维持通信所需要的流量控制规程及检错、纠错规程。在数据链路层中所使用的帧结构和流量控制及差错控制规程基于[HDLC协议](https://baike.baidu.com/item/HDLC协议/9441935)，具体来讲，这一层的规程是采用HDLC的一个子集一LAPB，并通过[异步平衡方式](https://baike.baidu.com/item/异步平衡方式/10510340)(ABM)来建立的。

#### 1.1.3 分组层

&emsp;&emsp;分组层说明了数据分组格式和分组交换程序，它描述了完成从本地X.25DTE通过网络将数据传输到远端X.25DTE的方法。它是X.25协议层中的最高层.从图2中我们还可以看出，X.25分组层只是近似地而不是精确地对应ISO/OSI七层模式中的网络层。在分组层中，两个DTE之间进行数据传输的通路称为虚电路(VC)。虚电路是逻辑连接而非物理连接，这样可以更有效地利用线路资源。X.25虚电路包括[交换虚电路](https://baike.baidu.com/item/交换虚电路/929579)(SVC)和[永久虚电路](https://baike.baidu.com/item/永久虚电路/8090755)(PVC)。

### 1.2 X.25的特点

- 可靠性高:网络提供了高可靠性的传输服务：面向连接的虚电路
- 多路复用:同一物理信道上的多条虚电路允许一个用户设备同时与多个其他用户设备通信
- 提供流量控制和拥塞控制能力
- 是点对点的通信，不支持广播，适用于网状拓扑
- 支持多种协议如TCP/IP、IPX/SPX、AppleTalk、DECnet等，对于其他协议来说，X.25起到了数据链路层的作用
>PDU被封装在X.25分组中经分组交换网中传送到目的地

### 1.3 X.25分组交换网的其他可选业务种类
- PDU被封装在X.25分组中经分组交换网中传送到目的地
- 与计费有关的可选业务，可灵活选择计费方式，了解计费信息。
- 与呼叫连接有关的可选业务，可灵活改变呼叫定向。
- 与呼叫限制有关的可选业务，可防止无关用户的骚扰，保证安全性。
- 综合可选业务功能。

## 2.DDN 数字数据网
> DDN网是利用数字信道传输数据信号的数据传输网。主要是作用向用户提供永久性和半永久性连接的数字数据传输信道，既可用于计算机之间的通信，也可用于传送数字化传真，数字话音，数字图像信号或其它数字化信号。永久性连接的数字数据传输信道是指用户间建立固定连接，传输速率不变的独占带宽电路。半永久性连接的数字数据传输信道对用户来说是非交换性的。但用户可提出申请，由网络管理人员对其提出的传输速率、传输数据的目的地和传输路由进行修改。网络经营者向广大用户提供了灵活方便的数字电路出租业务，供各行业构成自己的专用网。
### 2.1 协议结构
> DDN网是由数字传输电路和相应的数字交叉复用设备组成。其中，数字传输主要以光缆传输电路为主，数字交叉连接复用设备对数字电路进行半固定交叉连接和子速率的复用。
- DTE： 数据终端设备--接入DDN网的用户端设备可以是局域网，通过路由器连至对端，也可以是一般的异步终端或图像设备，以及传真机、电传机、电话机等。DTE和DTE之间是全透明传输。
- DSU： 数据业务单元--可以是调制解调器或基带传输设备，以及时分复用、语音/数字复用等设备。
- DTE和DSU主要功能是业务的接入和接出。
- NMC： 网管中心--可以方便地进行网络结构和业务的配置，实时地监视网络运行情况，进行网络信
息、网络节点告警、线路利用情况等收集、统计报告。

![image-20220412192044528](C:\Users\86184\AppData\Roaming\Typora\typora-user-images\image-20220412192044528.png)
> 图3 DDN网络的组成结构

### 2.2 层次结构
> 按照网络的基本功能DDN网又可分为核心层、接入层、用户接口层。
- 核心层：以2M电路，构成骨干节点核心，执行网络业务的转接功能，包括帧中继业务的转接功能。
- 接入层：为DDN各类业务提供子速率复用和交叉连接，帧中继业务用户接入和本地帧中继功能，以及压缩话音/G3传真用户入网。
- 用户接口层：为用户入网提供适配和转接功能，如小容量时分复用设备等。

![image-20220412192221848](C:\Users\86184\AppData\Roaming\Typora\typora-user-images\image-20220412192221848.png)
> 图4 DDN网络的层次结构
### 2.3 DDN的特点
- 传输速率高： 在DDN网内的数字交叉连接复用设备能提供2Mbps或N×64Kbps（≤2M）速率的数字传输信道。
- 传输质量较高： 数字中继大量采用光纤传输系统，用户之间专有固定连接，网络时延小。
- 协议简单： 采用交叉连接技术和时分复用技术，由智能化程度较高的用户端设备来完成协议的转换，本身不受任何规程的约束，是全透明网，面向各类数据用户。
- 灵活的连接方式： 可以支持数据、语音、图像传输等多种业务，它不仅可以和用户终端设备进行连接，也可以和用户网络连接，为用户提供灵活的组网环境。
- 电路可靠性高： 采用路由迂回和备用方式，使电路安全可靠。
- 网络运行管理简便： 采用网管对网络业务进行调度监控，业务的迅速生成。
### 2.4 DDN提供的业务
- 提供速率可在一定范围内（200bit/s—2Mbit/s）任选的信息量大实时性强的中高速数据通信业务。如局域网互连、大中型主机互连、计算机互联网业务提供者（ISP）等
- 为分组交换网、公用计算机互联网等提供中继电路
- 可提供点对点、一点对多点的业务适用于金融证券公司、科研教育系统、政府部门租用DDN专线组建自己的专用网。
- 提供帧中继业务，扩大了DDN的业务范围。用户通过一条物理电路可同时配置多条虚连接。
- 提供语音、G3传真、图像、智能用户电报等通信。
- 提供虚拟专用网业务。大的集团用户可以租用多个方向、较多数量的电路，通过自己的网络管理工作站，进行自己管理，自己分配电路带宽资源，组成虚拟专用网。

## 3. FR（帧中继）
>  FR（Frame Relay，帧中继）协议，是一种简化的X.25广域网协议，是一种统计复用的协议，它能够在单一物理传输线路上提供多条虚电路，是在数据链路层用简化的方法传送和交换数据单元的快速分组交换技术。
### 3.1 协议体系结构
分为控制面和用户面两个部分：
- 控制面仅用于建立虚电路——三层
> 使用LMI (Local Management Interface本地管理接口)协议管理链路

- 用户面用于用户数据传输——只有两层，链路层协议
> 使用LAPF（Link Access Procedure for Frame-mode Bearer Service帧方式承载业务的数据链路层协议 ）核心功能完成用户数据传输

![image-20220412193508915](C:\Users\86184\AppData\Roaming\Typora\typora-user-images\image-20220412193508915.png)
> 帧中继协议体系结构
### 3.2帧中继的基本原理
#### 3.2.1 帧中继接口类型
&emsp;&emsp;帧中继网络提供了用户设备（如路由器和主机等）之间进行数据通信的能力。帧中继设备和封装帧中继协议的接口根据在网络中的作用不同，可以分为下列四种：
> - DTE：用户设备被称作DTE（Data Terminal Equipment，数据终端设备）。
>- DCE：为用户设备提供接入的设备，属于网络设备，被称为DCE（Data Circuit-terminating Equipment，数据电路终接设备）。
> - UNI：DTE和DCE之间的接口被称为UNI（User Network Interface，用户网络接口）。
> -NNI：网络与网络之间的接口被称为NNI（Network-to-Network Interface，网间网接口）。
&emsp;&emsp;在实际应用中，DTE接口只能和DCE接口连接，NNI接口只能和NNI接口连接。如果把设备用做帧中继交换机，帧中继接口类型应该为NNI或DCE。 

![img](https://img-blog.csdnimg.cn/img_convert/9ec82402f9a8837bd9046f4c75e67958.png)
&emsp;&emsp; 如上图所示，两台DTE设备（Router A和Router D）通过帧中继网络实现互连，Router B和Router C用来代表一个简单的帧中继交换网。可以看出，DTE和DCE只是在UNI处才进行区分；对于两台DTE之间建立的虚电路，不同虚电路段可以对应不同的DLCI。
#### 3.2.2 帧中继虚电路
&emsp;&emsp;虚电路VC（Virtual Circuit）是建立在两台网络设备之间共享网络的逻辑电路。根据建立方式的不同，可以将虚电路分为两种类型：
- PVC（Permanent Virtual Circuit，永久虚电路）：手工设置产生的虚电路。
- SVC（Switched Virtual Circuit，交换虚电路）：通过协议协商自动创建和删除的虚电路。
&emsp;&emsp;目前在帧中继中使用最多的方式是永久虚电路方式。永久虚电路方式需要检测虚电路是否可用。LMI协议就是用来检测虚电路是否可用的。

![img](https://img-blog.csdnimg.cn/20210724105126563.png)
#### 3.2.3 帧中继网络拓扑
&emsp;&emsp;帧中继一般有三种拓扑结构，分别是：全网状拓扑、星型拓扑、部分网状拓扑。
- 全网状拓扑：全网状拓扑指在这个帧中继拓扑中，任何两个节点间都存在一条虚电路，如果把各节点用直线两两一组连接起来，会形成一张网。它可以提供最大限度的相互容错能力，但是费用较贵。
- 星型拓扑：星型拓扑是最常用的帧中继拓扑结构，由中心节点来提供主要服务与应用。星型拓扑有一个中心节点和许多的分支节点，所有的分支节点的通讯都必须通过中心节点，效率可能不高，但是价格便宜。
- 部分网状拓扑：部分网状拓扑是星型拓扑的衍生，不同的在于部分网状拓扑的重要结点采取多链路互连方式，有一定的互备份能力。
### 3.2.3 帧中继特点
- 传输速率和传输延迟比X.25网络要分别提高和降低至少一个数量级
- 帧长度可变，允许最大帧长在1600字节以上
- 因为采用了基于变长帧的异步多路复用技术，帧中继主要用于数据传输，而不适合语音、视频或其他对延迟时间敏感的信息的传输
- 虽然PVC和SVC都可以提供，但在实际的帧中继网络中，主要使用PVC
- 对传输错误仅仅进行检测，但并不纠错，发现错误时仅是简单地将错误帧丢弃
> 重传、纠错和流控由端设备中的上层协议(如TCP/IP)完成。

## 4.PSTN 公共交换电话网络
### 4.1 协议结构
- 物理层主要使用RS-232（DTE和Modem之间的接口）
- 数据链路层为PPP（或SLIP，但已很少使用）
- 网络层为PPP支持的任何一种高层协议

![image-20220412201000345](C:\Users\86184\AppData\Roaming\Typora\typora-user-images\image-20220412201000345.png)
### 4.2 采用技术
&emsp;&emsp;PSTN提供的是一个模拟的专有通道，通道之间经由若干个电话交换机连接而成。当两个主机或路由器设备需要通过PSTN连接时，在两端的网络接入侧（即用户回路侧）必须使用调制解调器（Modem）实现信号的模/数、数/模转换。 从OSI七层模型的角度来看，PSTN可以看成是物理层的一个简单的延伸，没有向用户提供流量控制、差错控制等服务。而且，由于PSTN是一种电路交换的方式，所以一条通路自建立直至释放，其全部带宽仅能被通路两端的设备使用，即使他们之间并没有任何数据需要传送。因此，这种电路交换的方式不能实现对网络带宽的充分利用。 通过PSTN进行网络互联举例 下图是一个通过PSTN连接两个局域网的网络互连的例子。在这两个局域网中，各有一个路由器，每个路由器均有一个串行端口与Modem相连，Modem再与PSTN相连，从而实现了这两个局域网的互连。
### 4.3 入网方式
- 通过普通拨号电话线入网。只要在通信双方原有的电话线上并接Modem，再将Modem与相应的上网设备相连即可。2013年大多数上网设备，如PC或者路由器，均提供有若干个串行端口，串行口和Modem之间采用RS-232等串行接口规范。这种连接方式的费用比较经济，收费价格与普通电话的收费相同，可适用于通信不太频繁的场合。
- 通过租用电话专线入网。与普通拨号电话线方式相比，租用电话专线可以提供更高的通信速率和数据传输质量，但相应的费用也较前一种方式高。使用专线的接入方式与使用普通拨号线的接入方式没有太大的区别，但是省去了拨号连接的过程。通常，当决定使用专线方式时，用户必须向所在地的电信局提出申请，由电信局负责架设和开通。
- 经普通拨号或租用专用电话线方式由PSTN转接入公共数据交换网（X.25或Frame-Relay等）的入网方式。利用该方式实现与远地的连接是一种较好的远程方式，因为公共数据交换网为用户提供可靠的面向连接的虚电路服务，其可靠性与传输速率都比PSTN强得多。

### 4.4 PSTN的特点
- 电路交换，有拨号连接过程，连接后独占信道
- 既可传输模拟信息，也可传输数字信息
- 用户环路为模拟传输
- 数据通信时需要使用MODEM
- 收发双方传输速率必须相同，最高为56kb/s
- 无差错控制能力

## 5. ISDN
> 综合业务数字网（Integrated Services Digital Network，ISDN）是一个数字电话网络国际标准，是一种典型的电路交换网络系统。在ITU的建议中，ISDN是一种在数字电话网IDN的基础上发展起来的通信网络，ISDN能够支持多种业务，包括电话业务和非电话业务。
### 5.1 协议结构
- 物理层使用I.430（BRI）和I.431（PRI）
- 链路层:
- - 控制：LAPD（I.441/Q.921）
- - 用户：PPP、FR、LAPB（X.25）等
- 网络层
- - 控制：I.451/Q.931
- - 用户：IP、X.25

![image-20220412210039993](C:\Users\86184\AppData\Roaming\Typora\typora-user-images\image-20220412210039993.png)

### 5.2 用户接入结构
&emsp;&emsp;在ISDN中，设备分为若干个功能组：
- 网络端接入设备，称为NT1
- 执行交换和集中功能的智能设备（如程控交换机、终端控制器），称为NT2
- 支持ISDN的用户设备（如ISDN数字电话、ISDN终端等），称为TE1类终端
- 普通用户设备（如PC微机），称为TE2类终端
- ISDN终端适配器，又称为TA，用于连接TE2
&emsp;&emsp;功能组之间通过参考点分隔：
- 参考点U：NT1与ISDN本地环路的接口
- 参考点T：用户设备与NT1（ISDN网络）的接口
- 参考点S：TE1/TA与NT2的接口
- 参考点R：TE2与TA的接口

### 5.3 ISDN的特点
- 使用灵活方便：一个入网接口和普通电话号码就能从网络得到多种服务，用户可在这个接口上连接不同种类的终端
- 费用适宜：由于使用单一网络提供多种服务，提高了网络资源利用率，可用低廉的费用向用户提供服务
- 终端移动性： ISDN的终端可以在通信过程中暂停正在进行的通信，然后在需要时再恢复通信。这一性能给用户带来了很大的方便，用户可以在通信暂停后将终端将移至其它的房间，插入插座后再恢复通信。同时还可以设置恢复通信的身份密码

## 6.非对称用户线路（ADSL）
>&emsp;&emsp;非对称数字用户线路（ADSL，Asymmetric Digital Subscriber Line）是数字用户线路（xDSL，Digital Subscriber Line）服务中最流行的一种。
>&emsp;&emsp;ADSL的国际标准于1999年获得批准，称为 G.dmt。它允许高达8 Mbps的下行速度和 1 Mbps的上行速度。这个标准已被2002年发布的ADSL2超越，下行速度经过不断的改进，目前已经可以达到12 Mbps，上行速度仍然是 1 Mbps。现在，我们又有了 ADSL2+，它使用双绞线上的双倍带宽（2.2 MHz）把下行速度翻了一倍，达到 24 Mbps。
### 6.1 基本原理
&emsp;&emsp;所谓非对称主要体现在上行速率和下行速率的非对称性上。它利用数字编码技术从现有铜质电话线上获取最大数据传输容量，同时又不干扰在同一条线上进行的常规话音服务。其原因是它用电话话音传输以外的频率传输数据。用户可以在上网的同时打电话或发送传真，而这将不会影响通话质量或降低下载Internet内容的速度。
&emsp;&emsp;事实上，ADSL的传输技术中，ADSL用其特有的调制解调硬件来连接现有双绞线连接的各端，它创建具有三个信道的通道。
&emsp;&emsp;它具有一个高速下行通道（Downstream）到用户端，一个上行通道（Upstream）和一个POTS通道（4kHz），POTS通道用以保证即使ADSL连接失败了，语音通信仍能正常运转。高速和中速信道均可以采用多路复用技术以创建多个低速通道。ADSL的关键概念，也是数字信号与模拟信号能同时在电话线传输的关键，在于其上行与下行的带是不对称的。也就是从ISP以客户端（下行通道）传输的带宽比较高，客户端到ISP（上行通道）的传输带宽比较低。这样的设计一方面是为了与现有的电话网络频谱相容，一方面也符合使用互联网的习惯与特性（接受的数据量远远大于送出去的数据量）。
### 6.2 ADSL的特点
- 高速传输：提供上、下行不对称的传输带宽
- 上网、打电话互不干扰：数据信号和电话音频信号以频分复用原理调制于各自频段互不干扰，上网的同时可以拨打或接听电话，避免了拨号上网时不能使用电话的烦恼
- 独享带宽，安全可靠：各结点采用宽带交换机处理交换信息，信息传递快速安全

### 6.3技术对比
- xDSL技术是数字用户线路的所有类型的总称，包括RADSL、SDSL、HDSL、ADSL、VDSL和IDSL等。
- xDSL是基于铜质电话线路的传输技术，也是一种新的传输技术，它可在现有的铜质电话线路上采用较高的频率及相应的调制技术，提高传输速率。各种DSL技术区别主要体现在信号传输速率、距离，上、下行信道对称性不同两个方面。
- DSL（数字用户线路，Digital Subscriber Line）是以铜质电话线为传输介质的传输技术组合，它包括HDSL、SDSL、VDSL、 ADSL和RADSL等，一般称之为xDSL。它们主要的区别就是信号传输速度和距离的不同以及上行速率和下行速率对称性的不同这两个方面。

## 二、1G、2G、3G、4G、5G的概念及特点
**1G、2G、3G、4G、5G分别代表第n代[1-5]移动通信网络**
> 这里将以表格的形式展示他们之间的对比

![img](https://img-blog.csdn.net/20180530014354952)

**各概念：**
- 1G：表示第一代移动通讯技术。在20世纪80年代前期，第一代模拟制式技术(1G)首次出现，其作为蜂窝电话的标准，特点是仅限语音。现如今，模拟蜂窝技术己然退出了历史舞台。
- 2G：第二代移动通信技术规格，以数字语音传输技术为核心。一般定义为无法直接传送如电子邮件、软件等信息；只具有通话和一些如时间日期等传送的手机通信技术规格。不过手机短信在它的某些规格中能够被执行。它在美国通常称为“个人通讯服务”（外语缩写：PCS）。
>&emsp;&emsp;2.5G：已经进行商业应用的2.5G（Generation）移动通信技术是从2G迈向3G的衔接性技术，突破了2G电路交换技术对数据传输速率的制约，引入了分组交换技术，从而使数据传输速率有了质的突破，是一种介于2G与3G之间的过渡技术。2.5G的出现主要是由于3G是个相当浩大的工程，所牵扯的层面较多且复杂，要从2G一下迈向3G是不可能马上实现的。代表为：GPRS， HSCSD、WAP、EDGE、蓝牙(Bluetooth)、EPOC等技术。

- 3G：第三代移动通信技术，是指支持高速数据传输的蜂窝移动通讯技术。3G服务能够同时传送声音及数据信息。3G是将无线通信与国际互联网等多媒体通信结合的一代移动通信系统。
- 4G：第四代移动通信网络制式技术。第四代移动通信技术采用了更多以前没有使用过的新技术，引入了技术层面的交流，主要采用基于路由技术的网络体系结构，通过使用无限频率技术，从而让其系统比前面两代都更加完美。用较少数量的无线频谱就能做和以前一样的事情，且速度仍能保持相对快速。第四代移动通信系统的关键技术包括信道传输；抗干扰性强的高速接入技术、调制和信息传输技术；高性能、小型化和低成本的自适应阵列智能天线；大容量、低成本的无线接口和光接口；系统管理资源；软件无线电、网络结构协议等。第四代移动通信系统主要是以正交频分复用（OFDM）为技术核心。
- 第五代移动通信技术（英语：5th generation mobile networks或5th generation wireless systems、5th-Generation，简称5G或5G技术）是最新一代蜂窝移动通信技术，也是即4G（LTE-A、WiMax）、3G（UMTS、LTE）和2G（GSM）系统之后的延伸。5G的性能目标是高数据速率、减少延迟、节省能源、降低成本、提高系统容量和大规模设备连接。

**标准**
- 2G主要标准有是GSM和CDMA，除美国外du大多数使用zhiGSM；
- 3G存在四种标准：CDMA2000，WCDMA，TD-SCDMA（中国移动3G使用），WiMAX。
- 4G是LTE分TDD和FDD。